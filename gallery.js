var h=t=>{throw TypeError(t)};var m=(t,e,r)=>e.has(t)||h("Cannot "+r);var s=(t,e,r)=>(m(t,e,"read from private field"),r?r.call(t):e.get(t)),g=(t,e,r)=>e.has(t)?h("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),y=(t,e,r,o)=>(m(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);import"./assets/styles-BHDa8hsk.js";import{a as P,i as u,P as v}from"./assets/vendor-BK8-1dZR.js";const q=document.querySelector(".gallery");function p(t){const e=t.map(({alt_description:r,urls:{small:o}})=>`
     <li class="gallery-item">
            <img class="gallery-img" src="${o}" alt="${r}">
          </li>
    `).join("");q.innerHTML=e}var i,c,l;class w{constructor(){g(this,i,"https://api.unsplash.com/search/photos");g(this,c,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");g(this,l,"")}async getPopularPhotos(e){const r=`${s(this,i)}?client_id=${s(this,c)}&query=popular&page=${e}&per_page=12&orientation=portrait`;try{const{data:o}=await P(r);return o}catch(o){console.log(o)}}set query(e){y(this,l,e)}async getPhotosByQuery(e){const r=`${s(this,i)}?client_id=${s(this,c)}&query=${s(this,l)}&page=${e}&per_page=12&orientation=portrait`;try{const{data:o}=await P(r);return o}catch(o){console.log(o)}}}i=new WeakMap,c=new WeakMap,l=new WeakMap;const n=new w,B=document.getElementById("tui-pagination-container"),_=document.querySelector(".js-search-form");_.addEventListener("submit",async t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){u.warning({message:"Enter something for search!"});return}n.query=e,a.off("afterMove",$),a.off("afterMove",f);try{const r=await n.getPhotosByQuery(d);if(r.results.length===0){u.error({message:"Images not found!"});return}p(r.results),a.reset(r.total),a.on("afterMove",f),u.success({message:`We found ${r.total} images.`})}catch(r){console.log(r),u.error({message:"Oops somthing went wrong!"})}});const a=new v(B,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),d=a.getCurrentPage();n.getPopularPhotos(d).then(({results:t,total:e})=>{p(t),a.reset(e)});a.on("afterMove",$);function $(t){const e=t.page;n.getPopularPhotos(e).then(({results:r})=>{p(r)})}function f(t){const e=t.page;n.getPhotosByQuery(e).then(({results:r})=>{p(r)})}
//# sourceMappingURL=gallery.js.map
