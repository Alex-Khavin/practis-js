{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/storage.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector(\".login-form\"),\n    inputEmail: document.querySelector(\"[name='email']\"),\n    inputPass: document.querySelector(\"[name='password']\"),\n    btn: document.querySelector(\"[name='button']\")\n}","export function saveData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getData(key) {\n  return JSON.parse(localStorage.getItem(key)) || null;\n}\n\nexport function clearData(key) {\n  localStorage.removeItem(key);\n}\n","// Перед вами форма для авторизації на сайті (правильні дані для входу збережені в обʼєкті USER_DATA)\n\n// Розбийте код на кілька файлів:\n// storage.js - функції для роботи зі сховищем;\n// refs.js - посилання на всі потрібні елементи в html;\n// main.js - головний файл, де вся основна логіка додатка.\n// Ви маєте додати перевірку введених даних при сабміті:\n// Якщо введені дані не збігаються зі збереженими, викликайте аlert і\n// повідомляйте про помилку.\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми\n// у локальне сховище і змінюйте кнопку Login на Logout, також робіть поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач авторизован, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// з локального сховища.\n\nimport { refs } from './js/refs';\nimport { saveData, getData, clearData } from './js/storage';\n\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\n\nconst LS_KEY = 'user-data';\n\nrefs.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n  const emailValue = refs.inputEmail.value.trim();\n  const passValue = refs.inputPass.value.trim();\n  if (refs.btn.textContent === `Logout`) {\n    refs.form.reset();\n    clearData(LS_KEY);\n    refs.inputEmail.removeAttribute('readonly');\n    refs.inputPass.removeAttribute('readonly');\n    refs.btn.textContent = `Login`;\n    return;\n  }\n  if (emailValue === '' || passValue === '') {\n    alert('Заповніть усі поля!');\n    return;\n  }\n  if (emailValue !== USER_DATA.email || passValue !== USER_DATA.password) {\n    alert('Данні не коректні');\n    return;\n  }\n  saveData(LS_KEY, { email: emailValue, password: passValue });\n  refs.btn.textContent = 'Logout';\n  refs.inputEmail.setAttribute('readonly', true);\n  refs.inputPass.setAttribute('readonly', true);\n}\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  const data = getData(LS_KEY);\n  if (data) {\n    refs.inputEmail.value = data.email ?? ``;\n    refs.inputPass.value = data.password ?? ``;\n    refs.btn.textContent = 'Logout';\n    refs.inputEmail.setAttribute('readonly', true);\n    refs.inputPass.setAttribute('readonly', true);\n  }\n});\n"],"names":["refs","saveData","key","data","getData","clearData","USER_DATA","LS_KEY","handlerSubmit","event","emailValue","passValue"],"mappings":"ssBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,aAAa,EAC1C,WAAY,SAAS,cAAc,gBAAgB,EACnD,UAAW,SAAS,cAAc,mBAAmB,EACrD,IAAK,SAAS,cAAc,iBAAiB,CACjD,ECLO,SAASC,EAASC,EAAKC,EAAM,CAClC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEO,SAASC,EAAQF,EAAK,CAC3B,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,GAAK,IAClD,CAEO,SAASG,EAAUH,EAAK,CAC7B,aAAa,WAAWA,CAAG,CAC7B,CCWA,MAAMI,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EAEMC,EAAS,YAEfP,EAAK,KAAK,iBAAiB,SAAUQ,CAAa,EAElD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAaV,EAAK,WAAW,MAAM,KAAI,EACvCW,EAAYX,EAAK,UAAU,MAAM,KAAI,EAC3C,GAAIA,EAAK,IAAI,cAAgB,SAAU,CACrCA,EAAK,KAAK,QACVK,EAAUE,CAAM,EAChBP,EAAK,WAAW,gBAAgB,UAAU,EAC1CA,EAAK,UAAU,gBAAgB,UAAU,EACzCA,EAAK,IAAI,YAAc,QACvB,MACD,CACD,GAAIU,IAAe,IAAMC,IAAc,GAAI,CACzC,MAAM,qBAAqB,EAC3B,MACD,CACD,GAAID,IAAeJ,EAAU,OAASK,IAAcL,EAAU,SAAU,CACtE,MAAM,mBAAmB,EACzB,MACD,CACDL,EAASM,EAAQ,CAAE,MAAOG,EAAY,SAAUC,CAAS,CAAE,EAC3DX,EAAK,IAAI,YAAc,SACvBA,EAAK,WAAW,aAAa,WAAY,EAAI,EAC7CA,EAAK,UAAU,aAAa,WAAY,EAAI,CAC9C,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMG,EAAOC,EAAQG,CAAM,EACvBJ,IACFH,EAAK,WAAW,MAAQG,EAAK,OAAS,GACtCH,EAAK,UAAU,MAAQG,EAAK,UAAY,GACxCH,EAAK,IAAI,YAAc,SACvBA,EAAK,WAAW,aAAa,WAAY,EAAI,EAC7CA,EAAK,UAAU,aAAa,WAAY,EAAI,EAEhD,CAAC"}